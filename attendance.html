<body onload="protectPage()" class="bg-slate-100">
<div class="max-w-4xl mx-auto mt-10 bg-white p-8 rounded-2xl shadow">
<h2 class="text-xl font-bold mb-4">Attendance</h2>

<button onclick="markAttendance()"
class="bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold mb-4">
Mark Attendance
</button>

<table class="w-full text-left">
<tr class="border-b"><th>Date</th><th>Status</th></tr>
<tbody id="rows"></tbody>
</table>
</div>

<script src="auth.js"></script>
<script>
function markAttendance(){
 const today=new Date().toDateString();
 let data=JSON.parse(localStorage.getItem("att"))||{};
 if(data[today]){alert("Already marked");return;}
 let hour=new Date().getHours();
 data[today]=hour>10?"Half Day":"Present";
 localStorage.setItem("att",JSON.stringify(data));
 load();
}
function load(){
 let data=JSON.parse(localStorage.getItem("att"))||{};
 rows.innerHTML="";
 Object.keys(data).forEach(d=>{
 rows.innerHTML+=`<tr><td>${d}</td><td>${data[d]}</td></tr>`;
 });
}
load();
</script>
</body>
